name: Test package
description: Test the Python package
inputs:
  junit_report_paths:
    default: '*junity.xml'
  checkout_version:
    default: 6
  junit_report_version:
    default: 6.0.1

runs:
  using: "composite"
  steps:
    - name: Checkout code
      uses: actions/checkout@v${{ inputs.checkout_version }}
    - name: Test the project
      run: make test
    - name: Publish report
      uses: mikepenz/action-junit-report@v${{ inputs.junit_report_version }}
      if: success() || failure()
      with:
        report_paths: ${{ inputs.junit_report_paths }}
